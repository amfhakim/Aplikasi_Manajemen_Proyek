(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[83],{360:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(24),l=t(26),i=t(25),s=t(2),c=t.n(s),u=t(377),m=t(27),o=t(67),d=t(75),h=t.n(d),g=t(69),p=t(64),E=t(107),f=t(108),b=t(140),v=t(303),y=t(141),B=t(304),k=t(305),P=t(306),O=t(307),j=t(83),C=t(81),_=t(82),D=t(71),N=t(72),z=t(73),I=t(68),Q=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={akun_id:localStorage.getItem("user_id"),nama:"",purchase_id:"",jumlah:0,modalIsOpen:!1,harga:0,sewa:0},r}return Object(r.a)(t,[{key:"toggleModal",value:function(){this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"displayPurchaseOrder",value:function(){var e=this.props.getPurchaseOrdersQuery;return e.loading?c.a.createElement("div",null,"Loading order..."):e.purchaseOrders.map((function(e){if("Disetujui"===e.status)return c.a.createElement("option",{key:e.id,value:e.id},e.kode)}))}},{key:"displayPenerimaanBarang",value:function(){var e=this,a=this.props.getPenerimaanBarangsQuery,t=0;return a.loading?void 0:a.penerimaanBarangs.map((function(a){return t++,c.a.createElement("tr",{key:a.id},c.a.createElement("td",null,t),c.a.createElement("td",null,a.kode),c.a.createElement("td",null,a.tanggal),c.a.createElement("td",null,c.a.createElement(m.Link,{to:"/penerimaanBarang/detailPenerimaanBarang/".concat(a.id)},c.a.createElement(p.a,{color:"primary",size:"sm"},c.a.createElement("i",{className:"fa fa-file"})))),c.a.createElement("td",null,c.a.createElement(p.a,{onClick:e.onDelete.bind(e,a.id),color:"danger",size:"sm"},c.a.createElement("i",{className:"fa fa-trash"}))))}))}},{key:"onDelete",value:function(e){var a=this;h.a.fire({title:"Apakah anda Yakin?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Saya Yakin!"}).then((function(t){t.isConfirmed&&(a.props.hapusPenerimaanBarang({variables:{id:e},refetchQueries:[{query:g.z}]}),h.a.fire("Dihapus!","Penerimaan Barang Telah Dihapus","success"))}))}},{key:"getKodeBaru",value:function(){var e="",a=1;return this.props.getPenerimaanBarangsQuery.penerimaanBarangs.map((function(a){""!==a.kode&&(e=a.kode)})),""!==e&&(a=parseInt(e.substring(2,5))+1),e=a<10?"PB00"+a:a>=10&&a<100?"PB0"+a:"PB"+a}},{key:"submit",value:function(){""!==this.state.purchase_id&&(this.props.addPenerimaanBarang({variables:{kode:this.getKodeBaru(),tanggal:(new Date).toLocaleDateString(),akun_id:this.state.akun_id,purchase_id:this.state.purchase_id},refetchQueries:[{query:g.z}]}),this.props.history.push("/penerimaanBarang/buatPenerimaanBarang/".concat(this.state.purchase_id)))}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"animated fadeIn"},c.a.createElement(E.a,null,c.a.createElement(f.a,null,c.a.createElement(b.a,null,c.a.createElement(v.a,null,c.a.createElement("i",{className:"fa fa-align-justify"}),"Penerimaan Barang",c.a.createElement(p.a,{size:"sm",color:"primary",className:"float-right mb-0",onClick:this.toggleModal.bind(this)},c.a.createElement("i",{className:"fa fa-plus"})," Tambah Penerimaan Barang")),c.a.createElement(y.a,null,c.a.createElement(B.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},c.a.createElement("thead",{align:"center"},c.a.createElement("tr",null,c.a.createElement("th",null,"No"),c.a.createElement("th",null,"Kode"),c.a.createElement("th",null,"Tanggal"),c.a.createElement("th",null,"Detail"),c.a.createElement("th",null,"Hapus"))),c.a.createElement("tbody",{align:"center"},this.displayPenerimaanBarang())),c.a.createElement("nav",null,c.a.createElement(k.a,null,c.a.createElement(P.a,null,c.a.createElement(O.a,{previous:!0,tag:"button"},"Prev")),c.a.createElement(P.a,{active:!0},c.a.createElement(O.a,{tag:"button"},"1")),c.a.createElement(P.a,null,c.a.createElement(O.a,{tag:"button"},"2")),c.a.createElement(P.a,null,c.a.createElement(O.a,{tag:"button"},"3")),c.a.createElement(P.a,null,c.a.createElement(O.a,{tag:"button"},"4")),c.a.createElement(P.a,null,c.a.createElement(O.a,{next:!0,tag:"button"},"Next")))))))),c.a.createElement(j.a,{isOpen:this.state.modalIsOpen},c.a.createElement(C.a,null,"Pilih Purchase Order"),c.a.createElement(_.a,null,c.a.createElement(D.a,null,c.a.createElement(N.a,null,c.a.createElement(z.a,{htmlFor:"name"},"Kode Purchase Order"),c.a.createElement(I.a,{type:"select",name:"id",onChange:function(a){return e.setState({purchase_id:a.target.value})},id:"id",required:!0},c.a.createElement("option",{value:""},"Kode"),this.displayPurchaseOrder())),c.a.createElement(p.a,{type:"submit",color:"primary",onClick:this.submit.bind(this)},"Submit"),c.a.createElement(p.a,{color:"danger",onClick:this.toggleModal.bind(this)},"Batal")))))}}]),t}(s.Component);a.default=o(Object(u.a)(g.z,{name:"getPenerimaanBarangsQuery"}),Object(u.a)(g.G,{name:"getPurchaseOrdersQuery"}),Object(u.a)(g.h,{name:"addPenerimaanBarang"}),Object(u.a)(g.O,{name:"hapusPenerimaanBarang"}))(Q)}}]);
//# sourceMappingURL=83.4f5e911a.chunk.js.map