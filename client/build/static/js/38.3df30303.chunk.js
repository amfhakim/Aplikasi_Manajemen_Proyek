(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[38],{361:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(24),s=t(26),i=t(25),l=t(2),o=t.n(l),c=t(377),u=t(27),d=t(67),m=t(75),p=t.n(m),b=t(69),f=t(141),h=t(71),g=t(107),v=t(108),E=t(72),O=t(73),y=t(68),j=t(304),k=t(64),P=t(140),N=t(303),z=function(e){Object(s.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={nama:"",purchase_id:"",jumlah:0,modalIsOpen:!1,harga:0,sewa:0},r}return Object(r.a)(t,[{key:"toggleModal",value:function(){this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"displayPurchaseOrder",value:function(){var e=this.props.getPurchaseOrdersQuery;return e.loading?o.a.createElement("div",null,"Loading order..."):e.purchaseOrders.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.kode)}))}},{key:"displayNewPenerimaanbarang",value:function(){var e=this.props.getPenerimaanBarangsQuery,a="",t="",n="";return e.penerimaanBarangs.map((function(e){return a=e.tanggal,t=e.kode,n=e.akun.karyawan.nama})),o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"form-horizontal"},o.a.createElement(g.a,null,o.a.createElement(v.a,{md:"4"},o.a.createElement(E.a,{row:!0},o.a.createElement(v.a,{md:"6"},o.a.createElement(O.a,{htmlFor:"name"},"Kode Penerimaan Barang")),o.a.createElement(v.a,{md:"6"},o.a.createElement(y.a,{type:"text",name:"kode",id:"kode",value:t,disabled:!0})))),o.a.createElement(v.a,{md:"4"},o.a.createElement(E.a,{row:!0},o.a.createElement(v.a,{md:"3"},o.a.createElement(O.a,{htmlFor:"name"},"Tanggal")),o.a.createElement(v.a,{md:"9"},o.a.createElement(y.a,{type:"text",name:"kode",id:"kode",value:a,disabled:!0})))),o.a.createElement(v.a,{md:"4"},o.a.createElement(E.a,{row:!0},o.a.createElement(v.a,{md:"3"},o.a.createElement(O.a,{htmlFor:"name"},"Penerima")),o.a.createElement(v.a,{md:"9"},o.a.createElement(y.a,{type:"text",name:"kode",id:"kode",value:n,disabled:!0})))))))}},{key:"displayPurchaseOrderDetail",value:function(){var e=this.props.data.purchaseOrder;if(e)return o.a.createElement(f.a,null,o.a.createElement(h.a,{className:"form-horizontal"},o.a.createElement(g.a,null,o.a.createElement(v.a,{md:"4"},o.a.createElement(E.a,{row:!0},o.a.createElement(v.a,{md:"6"},o.a.createElement(O.a,{htmlFor:"name"},"Kode Purchase Order")),o.a.createElement(v.a,{md:"6"},o.a.createElement(y.a,{type:"text",name:"kode",id:"kode",value:e.kode,disabled:!0})))),o.a.createElement(v.a,{md:"4"},o.a.createElement(E.a,{row:!0},o.a.createElement(v.a,{md:"3"},o.a.createElement(O.a,{htmlFor:"name"},"Nama vendor")),o.a.createElement(v.a,{md:"9"},o.a.createElement(y.a,{type:"text",name:"kode",id:"kode",value:e.vendor.nama,disabled:!0})))))),o.a.createElement("hr",null),o.a.createElement(j.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},o.a.createElement("thead",{align:"center"},o.a.createElement("tr",null,o.a.createElement("th",null,"Nama Barang"),o.a.createElement("th",null,"Satuan"),o.a.createElement("th",null,"Jumlah"))),o.a.createElement("tbody",{align:"center"},e.listItemPurchaseOrder.map((function(e){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,e.nama_barang),o.a.createElement("td",null,e.satuan),o.a.createElement("td",null,e.jumlah_barang))})))),o.a.createElement("div",{align:"center"},o.a.createElement(u.Link,{to:"/penerimaanBarang/penerimaanBarang"},o.a.createElement(k.a,{onClick:this.Submit.bind(this,e.vendor.jenis_usaha),color:"primary"},"Submit"))))}},{key:"Submit",value:function(e){var a=this;"Perkakas"!==e?this.props.data.purchaseOrder.listItemPurchaseOrder.map((function(e){var t="",n=0;if(a.props.getPersediaanBarangsQuery.persediaanBarangs.map((function(a){e.nama_barang===a.barang.nama_barang&&(t=a.barang.id,n=a.jumlah)})),""!==t)a.props.updateJumlahPersediaanBarang({variables:{barang_id:t,jumlah:parseInt(e.jumlah_barang)+parseInt(n)},refetchQueries:[{query:b.E}]});else{var r="";a.props.getBarangsQuery.barangs.map((function(a){e.nama_barang===a.nama_barang&&(r=a.id)})),a.props.addPersediaanBarang({variables:{barang_id:r,jumlah:parseInt(e.jumlah_barang),status:"Available"},refetchQueries:[{query:b.E}]})}})):this.props.data.purchaseOrder.listItemPurchaseOrder.map((function(e){var t=a.props.getAllInventarisQuery,n="",r=0;if(t.allInventaris.map((function(a){e.nama_barang===a.barang.nama_barang&&(n=a.barang.id,r=a.jumlah)})),""!==n)a.props.updateJumlahInventaris({variables:{barang_id:n,jumlah:parseInt(e.jumlah_barang)+parseInt(r)},refetchQueries:[{query:b.r}]});else{var s="";(t=a.props.getBarangsQuery).barangs.map((function(a){e.nama_barang===a.nama_barang&&(s=a.id)})),a.props.addInventaris({variables:{barang_id:s,jumlah:parseInt(e.jumlah_barang),status:"Available",jumlah_dipakai:0,jumlah_diperbaiki:0},refetchQueries:[{query:b.r}]})}}));this.props.updateStatusDonePurchaseOrder({variables:{id:this.props.match.params.id,status:"Done"},refetchQueries:[{query:b.G}]}),this.props.updateStatusListRequestOnOrder({variables:{order_id:this.props.match.params.id,status:"Ready"},refetchQueries:[{query:b.w}]}),p.a.fire({position:"center",icon:"success",title:"Penerimaan Barang Berhasil Disimpan",showConfirmButton:!0})}},{key:"render",value:function(){return o.a.createElement("div",{className:"animated fadeIn"},o.a.createElement(g.a,null,o.a.createElement(v.a,null,o.a.createElement(P.a,null,o.a.createElement(N.a,null,o.a.createElement("i",{className:"fa fa-align-justify"}),"Form Buat Penerimaan Barang",o.a.createElement(u.Link,{to:"/penerimaanBarang/penerimaanBarang",className:"float-right mb-0"},o.a.createElement(k.a,{color:"danger"},"Batal"))),this.displayNewPenerimaanbarang(),this.displayPurchaseOrderDetail()))))}}]),t}(l.Component);a.default=d(Object(c.a)(b.F,{options:function(e){return{variables:{id:e.match.params.id}}}}),Object(c.a)(b.z,{name:"getPenerimaanBarangsQuery"}),Object(c.a)(b.G,{name:"getPurchaseOrdersQuery"}),Object(c.a)(b.E,{name:"getPersediaanBarangsQuery"}),Object(c.a)(b.w,{name:"getListRequestsQuery"}),Object(c.a)(b.t,{name:"getBarangsQuery"}),Object(c.a)(b.r,{name:"getAllInventarisQuery"}),Object(c.a)(b.k,{name:"addPersediaanBarang"}),Object(c.a)(b.Y,{name:"updateJumlahPersediaanBarang"}),Object(c.a)(b.X,{name:"updateJumlahInventaris"}),Object(c.a)(b.db,{name:"updateStatusListRequestOnOrder"}),Object(c.a)(b.ab,{name:"updateStatusDonePurchaseOrder"}))(z)},64:function(e,a,t){"use strict";var n=t(5),r=t(13),s=t(61),i=t(11),l=t(2),o=t.n(l),c=t(14),u=t.n(c),d=t(59),m=t.n(d),p=t(60),b={active:u.a.bool,"aria-label":u.a.string,block:u.a.bool,color:u.a.string,disabled:u.a.bool,outline:u.a.bool,tag:p.q,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),onClick:u.a.func,size:u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,close:u.a.bool},f=function(e){function a(a){var t;return(t=e.call(this,a)||this).onClick=t.onClick.bind(Object(s.a)(t)),t}Object(i.a)(a,e);var t=a.prototype;return t.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},t.render=function(){var e=this.props,a=e.active,t=e["aria-label"],s=e.block,i=e.className,l=e.close,c=e.cssModule,u=e.color,d=e.outline,b=e.size,f=e.tag,h=e.innerRef,g=Object(r.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);l&&"undefined"===typeof g.children&&(g.children=o.a.createElement("span",{"aria-hidden":!0},"\xd7"));var v="btn"+(d?"-outline":"")+"-"+u,E=Object(p.m)(m()(i,{close:l},l||"btn",l||v,!!b&&"btn-"+b,!!s&&"btn-block",{active:a,disabled:this.props.disabled}),c);g.href&&"button"===f&&(f="a");var O=l?"Close":null;return o.a.createElement(f,Object(n.a)({type:"button"===f&&g.onClick?"button":void 0},g,{className:E,ref:h,onClick:this.onClick,"aria-label":t||O}))},a}(o.a.Component);f.propTypes=b,f.defaultProps={color:"secondary",tag:"button"},a.a=f},68:function(e,a,t){"use strict";var n=t(5),r=t(13),s=t(61),i=t(11),l=t(2),o=t.n(l),c=t(14),u=t.n(c),d=t(59),m=t.n(d),p=t(60),b={children:u.a.node,type:u.a.string,size:u.a.oneOfType([u.a.number,u.a.string]),bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:p.q,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},f=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(s.a)(t)),t.focus=t.focus.bind(Object(s.a)(t)),t}Object(i.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.focus=function(){this.ref&&this.ref.focus()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,s=e.type,i=e.bsSize,l=e.valid,c=e.invalid,u=e.tag,d=e.addon,b=e.plaintext,f=e.innerRef,h=Object(r.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),g=["radio","checkbox"].indexOf(s)>-1,v=new RegExp("\\D","g"),E=u||("select"===s||"textarea"===s?s:"input"),O="form-control";b?(O+="-plaintext",E=u||"input"):"file"===s?O+="-file":"range"===s?O+="-range":g&&(O=d?null:"form-check-input"),h.size&&v.test(h.size)&&(Object(p.t)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),i=h.size,delete h.size);var y=Object(p.m)(m()(a,c&&"is-invalid",l&&"is-valid",!!i&&"form-control-"+i,O),t);return("input"===E||u&&"function"===typeof u)&&(h.type=s),h.children&&!b&&"select"!==s&&"string"===typeof E&&"select"!==E&&(Object(p.t)('Input with a type of "'+s+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete h.children),o.a.createElement(E,Object(n.a)({},h,{ref:f,className:y,"aria-invalid":c}))},a}(o.a.Component);f.propTypes=b,f.defaultProps={type:"text"},a.a=f},71:function(e,a,t){"use strict";var n=t(5),r=t(13),s=t(61),i=t(11),l=t(2),o=t.n(l),c=t(14),u=t.n(c),d=t(59),m=t.n(d),p=t(60),b={children:u.a.node,inline:u.a.bool,tag:p.q,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},f=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(s.a)(t)),t.submit=t.submit.bind(Object(s.a)(t)),t}Object(i.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,s=e.inline,i=e.tag,l=e.innerRef,c=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(p.m)(m()(a,!!s&&"form-inline"),t);return o.a.createElement(i,Object(n.a)({},c,{ref:l,className:u}))},a}(l.Component);f.propTypes=b,f.defaultProps={tag:"form"},a.a=f},72:function(e,a,t){"use strict";var n=t(5),r=t(13),s=t(2),i=t.n(s),l=t(14),o=t.n(l),c=t(59),u=t.n(c),d=t(60),m={children:o.a.node,row:o.a.bool,check:o.a.bool,inline:o.a.bool,disabled:o.a.bool,tag:d.q,className:o.a.string,cssModule:o.a.object},p=function(e){var a=e.className,t=e.cssModule,s=e.row,l=e.disabled,o=e.check,c=e.inline,m=e.tag,p=Object(r.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),b=Object(d.m)(u()(a,!!s&&"row",o?"form-check":"form-group",!(!o||!c)&&"form-check-inline",!(!o||!l)&&"disabled"),t);return"fieldset"===m&&(p.disabled=l),i.a.createElement(m,Object(n.a)({},p,{className:b}))};p.propTypes=m,p.defaultProps={tag:"div"},a.a=p},73:function(e,a,t){"use strict";var n=t(5),r=t(13),s=t(2),i=t.n(s),l=t(14),o=t.n(l),c=t(59),u=t.n(c),d=t(60),m=o.a.oneOfType([o.a.number,o.a.string]),p=o.a.oneOfType([o.a.bool,o.a.string,o.a.number,o.a.shape({size:m,order:m,offset:m})]),b={children:o.a.node,hidden:o.a.bool,check:o.a.bool,size:o.a.string,for:o.a.string,tag:d.q,className:o.a.string,cssModule:o.a.object,xs:p,sm:p,md:p,lg:p,xl:p,widths:o.a.array},f={tag:"label",widths:["xs","sm","md","lg","xl"]},h=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},g=function(e){var a=e.className,t=e.cssModule,s=e.hidden,l=e.widths,o=e.tag,c=e.check,m=e.size,p=e.for,b=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),f=[];l.forEach((function(a,n){var r=e[a];if(delete b[a],r||""===r){var s,i=!n;if(Object(d.k)(r)){var l,o=i?"-":"-"+a+"-";s=h(i,a,r.size),f.push(Object(d.m)(u()(((l={})[s]=r.size||""===r.size,l["order"+o+r.order]=r.order||0===r.order,l["offset"+o+r.offset]=r.offset||0===r.offset,l))),t)}else s=h(i,a,r),f.push(s)}}));var g=Object(d.m)(u()(a,!!s&&"sr-only",!!c&&"form-check-label",!!m&&"col-form-label-"+m,f,!!f.length&&"col-form-label"),t);return i.a.createElement(o,Object(n.a)({htmlFor:p},b,{className:g}))};g.propTypes=b,g.defaultProps=f,a.a=g}}]);
//# sourceMappingURL=38.3df30303.chunk.js.map