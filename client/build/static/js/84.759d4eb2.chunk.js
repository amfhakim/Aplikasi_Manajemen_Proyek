(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[84],{363:function(e,a,t){"use strict";t.r(a);var n=t(23),r=t(24),l=t(26),i=t(25),u=t(2),s=t.n(u),c=t(377),m=t(27),o=t(67),g=t(75),d=t.n(g),p=t(69),E=t(64),h=t(107),f=t(108),B=t(140),b=t(303),v=t(141),y=t(304),k=t(305),P=t(306),O=t(307),j=t(83),C=t(81),D=t(82),_=t(71),N=t(72),I=t(73),Q=t(68),w=function(e){Object(l.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={akun_id:localStorage.getItem("user_id"),nama:"",permintaan_id:"",jumlah:0,modalIsOpen:!1,harga:0,sewa:0},r}return Object(r.a)(t,[{key:"toggleModal",value:function(){this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"displayPermintaanBarangs",value:function(){var e=this.props.getPermintaanBarangsQuery;return e.loading?s.a.createElement("div",null,"Loading Permintaan..."):e.permintaanBarangs.map((function(e){if("Disetujui"===e.status)return s.a.createElement("option",{key:e.id,value:e.id},e.kode)}))}},{key:"displayPengeluaranBarang",value:function(){var e=this,a=this.props.getPengeluaranBarangsQuery,t=0;return a.loading?void 0:a.pengeluaranBarangs.map((function(a){return t++,s.a.createElement("tr",{key:a.id},s.a.createElement("td",null,t),s.a.createElement("td",null,a.kode),s.a.createElement("td",null,a.tanggal),s.a.createElement("td",null,s.a.createElement(m.Link,{to:"/pengeluaranBarang/detailPengeluaranBarang/".concat(a.id)},s.a.createElement(E.a,{color:"primary",size:"sm"},s.a.createElement("i",{className:"fa fa-file"})))),s.a.createElement("td",null,s.a.createElement(E.a,{onClick:e.onDelete.bind(e,a.id),color:"danger",size:"sm"},s.a.createElement("i",{className:"fa fa-trash"}))))}))}},{key:"onDelete",value:function(e){var a=this;d.a.fire({title:"Apakah anda Yakin?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Saya Yakin!"}).then((function(t){t.isConfirmed&&(a.props.hapusPengeluaranBarang({variables:{id:e},refetchQueries:[{query:p.B}]}),d.a.fire("Dihapus!","Data Barang Telah Dihapus","success"))}))}},{key:"getKodeBaru",value:function(){var e="",a=1;return this.props.getPengeluaranBarangsQuery.pengeluaranBarangs.map((function(a){""!==a.kode&&(e=a.kode)})),""!==e&&(a=parseInt(e.substring(2,5))+1),e=a<10?"PE00"+a:a>=10&&a<100?"PE0"+a:"PE"+a}},{key:"submit",value:function(){""!==this.state.permintaan_id&&(this.props.addPengeluaranBarang({variables:{kode:this.getKodeBaru(),tanggal:(new Date).toLocaleDateString(),akun_id:this.state.akun_id,permintaan_id:this.state.permintaan_id},refetchQueries:[{query:p.B}]}),this.props.history.push("/pengeluaranBarang/buatPengeluaranBarang/".concat(this.state.permintaan_id)))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"animated fadeIn"},s.a.createElement(h.a,null,s.a.createElement(f.a,null,s.a.createElement(B.a,null,s.a.createElement(b.a,null,s.a.createElement("i",{className:"fa fa-align-justify"}),"Pengeluaran Barang",s.a.createElement(E.a,{size:"sm",color:"primary",className:"float-right mb-0",onClick:this.toggleModal.bind(this)},s.a.createElement("i",{className:"fa fa-plus"})," Buat Pengeluaran Barang")),s.a.createElement(v.a,null,s.a.createElement(y.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},s.a.createElement("thead",{align:"center"},s.a.createElement("tr",null,s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Kode"),s.a.createElement("th",null,"Tanggal"),s.a.createElement("th",null,"Detail"),s.a.createElement("th",null,"Hapus"))),s.a.createElement("tbody",{align:"center"},this.displayPengeluaranBarang())),s.a.createElement("nav",null,s.a.createElement(k.a,null,s.a.createElement(P.a,null,s.a.createElement(O.a,{previous:!0,tag:"button"},"Prev")),s.a.createElement(P.a,{active:!0},s.a.createElement(O.a,{tag:"button"},"1")),s.a.createElement(P.a,null,s.a.createElement(O.a,{tag:"button"},"2")),s.a.createElement(P.a,null,s.a.createElement(O.a,{tag:"button"},"3")),s.a.createElement(P.a,null,s.a.createElement(O.a,{tag:"button"},"4")),s.a.createElement(P.a,null,s.a.createElement(O.a,{next:!0,tag:"button"},"Next")))))))),s.a.createElement(j.a,{isOpen:this.state.modalIsOpen},s.a.createElement(C.a,null,"Pilih Permintaangeluaran"),s.a.createElement(D.a,null,s.a.createElement(_.a,null,s.a.createElement(N.a,null,s.a.createElement(I.a,{htmlFor:"name"},"Kode Permintaan Barang"),s.a.createElement(Q.a,{type:"select",name:"id",onChange:function(a){return e.setState({permintaan_id:a.target.value})},id:"id",required:!0},s.a.createElement("option",{vlaue:""},"Kode"),this.displayPermintaanBarangs())),s.a.createElement(E.a,{type:"submit",color:"primary",onClick:this.submit.bind(this)},"Submit"),s.a.createElement(E.a,{color:"danger",onClick:this.toggleModal.bind(this)},"Batal")))))}}]),t}(u.Component);a.default=o(Object(c.a)(p.B,{name:"getPengeluaranBarangsQuery"}),Object(c.a)(p.D,{name:"getPermintaanBarangsQuery"}),Object(c.a)(p.i,{name:"addPengeluaranBarang"}),Object(c.a)(p.P,{name:"hapusPengeluaranBarang"}))(w)}}]);
//# sourceMappingURL=84.759d4eb2.chunk.js.map