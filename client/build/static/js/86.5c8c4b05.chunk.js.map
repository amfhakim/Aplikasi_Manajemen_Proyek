{"version":3,"sources":["views/Logistik/PermintaanBarang/EditPermintaanBarang.js"],"names":["EditPermintaanBarang","props","onUpdateSubmit","e","request_id","match","params","id","state","requestItems","length","hapusPermintaanBarangMutation","variables","refetchQueries","query","getPermintaanBarangsQuery","hapusManyListRequestMutation","map","item","console","log","harga","addListRequestMutation","nama_barang","nama","jumlah_barang","parseInt","jumlah","satuan","jenis","status","getListRequestsQuery","Swal","fire","position","icon","title","showConfirmButton","loggedIn","localStorage","getItem","redirect","selected","modalEditIsOpen","permintaanBarang","this","data","listItem","listRequest","newItem","push","setState","className","md","row","htmlFor","type","name","value","kode","disabled","akun","karyawan","divisi","tanggal","onClick","toggleModal","bind","size","color","hover","bordered","striped","responsive","align","key","toggleModalEdit","onDeleteItem","defaultValue","onChange","target","placeholder","required","filteredArray","filter","preventDefault","el","getBarangsQuery","loading","barangs","barang","modalIsOpen","sama","jum","sat","har","bar","jenis_barang","to","displayRequestDetail","isOpen","onSubmit","addItem","displayBarang","modalEdit","onEdit","onUpdateItem","displayEditItem","Component","compose","graphql","getPermintaanBarangQuery","options"],"mappings":"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","file":"static/js/86.5c8c4b05.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport {graphql} from 'react-apollo';\nimport * as compose from 'lodash.flowright';\nimport Swal from 'sweetalert2';\nimport {  getPermintaanBarangsQuery, getPermintaanBarangQuery, getBarangsQuery, getListRequestsQuery, addListRequestMutation, hapusManyListRequestMutation} from '../queries/queries';\nimport {  \n  Card, \n  CardBody, \n  CardHeader, \n  Col, \n  Button, \n  Row, \n  Table,\n  FormGroup,\n  Form,\n  Label,\n  Input,\n  Modal,\n  ModalHeader, \n  ModalBody,\n} from 'reactstrap';\n\nclass EditPermintaanBarang extends Component {\n  constructor(props){\n    super(props);\n    const username= localStorage.getItem(\"username\")\n\n    let loggedIn = true \n      if(username == null){\n        loggedIn = false\n      }\n    this.state = {\n      requestItems: [],\n      nama:'',\n      status: 'Active',\n      jumlah:'',\n      satuan:'',\n      jenis:'',\n      redirect: true,\n      selected: null,\n      loggedIn,\n      modalEditIsOpen: false,\n    }\n  }\n\n  displayRequestDetail(){\n    const {permintaanBarang} = this.props.data;\n    var listItem=[];\n    if(this.state.requestItems.length === 0){\n      permintaanBarang.listRequest.map(item => {\n        const newItem = { nama: item.nama_barang, jumlah: item.jumlah_barang, satuan: item.satuan, jenis: item.jenis, status: item.status, harga: item.harga};\n        listItem.push(newItem);\n      })\n      this.setState({requestItems : listItem});\n      return(\n        <CardBody>\n          <Form className=\"form-horizontal\">\n          <Row> \n            <Col md=\"4\">\n              <FormGroup row>\n                <Col md=\"6\">\n                  <Label htmlFor=\"name\">Kode Permintaan</Label>\n                </Col>\n                <Col md=\"6\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.kode} disabled></Input> \n                </Col>\n              </FormGroup>\n            </Col>  \n            <Col md=\"4\">\n              <FormGroup row>\n              <Col md=\"3\">\n                  <Label htmlFor=\"name\">Status</Label>\n                </Col>\n                <Col md=\"9\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.status} disabled></Input> \n                </Col> \n              </FormGroup>\n            </Col>  \n          </Row>\n          <Row>\n            <Col md=\"4\">\n            <FormGroup row>\n            <Col md=\"6\">\n                  <Label htmlFor=\"name\">Dibuat Oleh</Label>\n                </Col>\n                <Col md=\"6\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.akun.karyawan.nama} disabled></Input> \n                </Col>\n              </FormGroup>\n            </Col>\n            <Col md=\"4\">\n            <FormGroup row>\n               <Col md=\"3\">\n                  <Label htmlFor=\"name\">Divisi</Label>\n                </Col>\n                <Col md=\"9\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.akun.karyawan.divisi.nama} disabled></Input> \n                </Col>  \n              </FormGroup>\n            </Col>\n            <Col md=\"4\">\n            <FormGroup row>  \n            <Col md=\"3\">\n                  <Label htmlFor=\"name\">Tanggal</Label>\n                </Col>\n                <Col md=\"9\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.tanggal} disabled></Input> \n                </Col>\n              </FormGroup>\n            </Col>\n          </Row>\n        </Form>\n          <hr />\n          <Button onClick={this.toggleModal.bind(this)} size=\"sm\" color=\"success\" className={'float-right mb-0'}><i className=\"fa fa-plus-circle\"></i> Tambah Barang</Button>\n          <Table hover bordered striped responsive size=\"sm\" className=\"mt-2\">\n            <thead align=\"center\">\n              <tr>\n                <th>Nama Barang</th>\n                <th>Jumlah</th>\n                <th>Satuan</th>\n                <th>Jenis</th>\n                <th>Edit</th>\n                <th>Hapus</th>\n              </tr>\n            </thead>\n            <tbody align=\"center\">\n              {\n                listItem.map(item => {\n                  return(\n                    <tr key={item.id}>\n                      <td>{item.nama}</td>\n                      <td>{item.jumlah}</td>\n                      <td>{item.satuan}</td>\n                      <td>{item.jenis}</td>\n                      <td>\n                      <Button onClick={this.toggleModalEdit.bind(this, item.nama)}  color=\"success\" size=\"sm\">\n                        <i className=\"fa fa-pencil\"></i>\n                      </Button>\n                      </td>\n                      <td>\n                      <Button onClick={this.onDeleteItem.bind(this, item.nama)} color=\"danger\" size=\"sm\">\n                        <i className=\"fa fa-trash\"></i>\n                      </Button>\n                      </td>\n                    </tr>\n                  )\n                })\n              }\n            </tbody>\n          </Table>\n        </CardBody>\n      )\n    } else {\n      return(\n        <CardBody>\n          <Form className=\"form-horizontal\">\n          <Row> \n            <Col md=\"4\">\n              <FormGroup row>\n                <Col md=\"6\">\n                  <Label htmlFor=\"name\">Kode Permintaan</Label>\n                </Col>\n                <Col md=\"6\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.kode} disabled></Input> \n                </Col>\n              </FormGroup>\n            </Col>  \n            <Col md=\"4\">\n              <FormGroup row>\n              <Col md=\"3\">\n                  <Label htmlFor=\"name\">Status</Label>\n                </Col>\n                <Col md=\"9\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.status} disabled></Input> \n                </Col> \n              </FormGroup>\n            </Col>  \n          </Row>\n          <Row>\n            <Col md=\"4\">\n            <FormGroup row>\n            <Col md=\"6\">\n                  <Label htmlFor=\"name\">Dibuat Oleh</Label>\n                </Col>\n                <Col md=\"6\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.akun.karyawan.nama} disabled></Input> \n                </Col>\n              </FormGroup>\n            </Col>\n            <Col md=\"4\">\n            <FormGroup row>\n               <Col md=\"3\">\n                  <Label htmlFor=\"name\">Divisi</Label>\n                </Col>\n                <Col md=\"9\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.akun.karyawan.divisi.nama} disabled></Input> \n                </Col>  \n              </FormGroup>\n            </Col>\n            <Col md=\"4\">\n            <FormGroup row>  \n            <Col md=\"3\">\n                  <Label htmlFor=\"name\">Tanggal</Label>\n                </Col>\n                <Col md=\"9\">\n                <Input type=\"text\" name=\"kode\" id=\"kode\" value={permintaanBarang.tanggal} disabled></Input> \n                </Col>\n              </FormGroup>\n            </Col>\n          </Row>\n        </Form>\n          <hr />\n          <Button onClick={this.toggleModal.bind(this)} size=\"sm\" color=\"success\" className={'float-right mb-0'}><i className=\"fa fa-plus-circle\"></i> Tambah Barang</Button>\n          <Table hover bordered striped responsive size=\"sm\" className=\"mt-2\">\n            <thead align=\"center\">\n              <tr>\n                <th>Nama Barang</th>\n                <th>Jumlah</th>\n                <th>Satuan</th>\n                <th>Jenis</th>\n                <th>Edit</th>\n                <th>Hapus</th>\n              </tr>\n            </thead>\n            <tbody align=\"center\">\n              {\n                this.state.requestItems.map(item => {\n                  return(\n                    <tr key={item.id}>\n                      <td>{item.nama}</td>\n                      <td>{item.jumlah}</td>\n                      <td>{item.satuan}</td>\n                      <td>{item.jenis}</td>\n                      <td>\n                      <Button onClick={this.toggleModalEdit.bind(this, item.nama)} color=\"success\" size=\"sm\">\n                        <i className=\"fa fa-pencil\"></i>\n                      </Button>\n                      </td>\n                      <td>\n                      <Button onClick={this.onDeleteItem.bind(this, item.nama)} color=\"danger\" size=\"sm\">\n                        <i className=\"fa fa-trash\"></i>\n                      </Button>\n                      </td>\n                    </tr>\n                  )\n                })\n              }\n            </tbody>\n          </Table>\n        </CardBody>\n      )\n    }\n  }\n\n  displayEditItem(){\n    var nama='';\n    var jenis='';\n    var satuan='';\n    var jumlah='';\n    var harga=0;\n    this.state.requestItems.map(item =>{\n      if (item.nama === this.state.selected){\n        nama = item.nama\n        jumlah=item.jumlah\n        harga=item.harga\n      }\n    })\n    return(\n      <div>\n        <FormGroup>\n            <Label htmlFor=\"name\">Nama Barang</Label>\n            <Input type=\"text\" name=\"nama\" value={nama} id=\"nama\" disabled>\n            </Input>\n          </FormGroup>\n          <FormGroup>\n            <Label htmlFor=\"name\">Jumlah Barang</Label>\n            <Input type=\"number\" id=\"jumlah\" defaultValue={jumlah} onChange={(e) =>this.setState({jumlah:e.target.value})} placeholder=\"Jumlah Barang\" required />\n          </FormGroup>\n      </div>\n    )\n  }\n\n  onDeleteItem(nama){\n    let filteredArray = this.state.requestItems.filter(item => item.nama !== nama)\n    this.setState({requestItems: filteredArray});\n}\n\nonUpdateItem(e){\n  e.preventDefault();\n  this.toggleModalEdit();\n  this.setState(state => ({\n    requestItems: state.requestItems.map(\n      el => el.nama === this.state.selected? { ...el, jumlah : this.state.jumlah}: el\n    )\n  \n  }))\n}\n\n  displayBarang(){\n    var data = this.props.getBarangsQuery;\n    if(data.loading){\n      return (<div>Loading Barang...</div>);\n    } else {\n      return data.barangs.map(barang => {\n        return(\n          <option key={barang.id} value={barang.nama_barang}>{barang.nama_barang}</option>\n        );\n      });\n    }\n  }\n\n  toggleModal(){\n    this.setState({\n      modalIsOpen: ! this.state.modalIsOpen\n    });\n  }\n\n  toggleModalEdit(nama){\n    this.setState({\n      modalEditIsOpen: ! this.state.modalEditIsOpen,\n      selected: nama\n    });\n  }\n\n  addItem(e){\n    e.preventDefault();\n    this.toggleModal();\n    var sama = false;\n    var jum = 0; var jenis= ''; var sat=''; var har=0;\n    const data = this.props.getBarangsQuery;\n    data.barangs.map(bar =>{\n      if(bar.nama_barang === this.state.nama){\n        jenis = bar.jenis_barang\n        sat = bar.satuan\n        har = bar.harga\n      }\n    })\n    if(this.state.requestItems.length === 0){\n      const newItem = { nama: this.state.nama, jumlah: this.state.jumlah, satuan: sat, jenis: jenis, status: this.state.status, harga: har};\n      this.setState(state => {\n        state.requestItems.push(newItem);\n      });\n    } else {\n      this.state.requestItems.map(item => {\n        if(item.nama === this.state.nama){\n          sama = true;\n          jum = parseInt(item.jumlah)+parseInt(this.state.jumlah);\n        }\n      });\n      if (sama === true){\n        this.setState(state => ({\n          requestItems: state.requestItems.map(\n            el => el.nama === this.state.nama? { ...el, jumlah : jum }: el\n          )\n        \n        }))\n      } else {\n        const newItem = { nama: this.state.nama, jumlah: this.state.jumlah, satuan: sat, jenis: jenis, status: this.state.status,  harga: har};\n        this.setState(state => {\n          state.requestItems.push(newItem);\n        });\n      }\n    }\n    \n  }\n\n\n  onUpdateSubmit = (e) => {\n      var request_id = this.props.match.params.id;\n      if(this.state.requestItems.length === 0){\n        this.props.hapusPermintaanBarangMutation({\n          variables:{\n            id: request_id,        \n          },\n          refetchQueries:[{query:getPermintaanBarangsQuery}],\n        });\n       this.props.hapusManyListRequestMutation({\n          variables:{\n            id: request_id,        \n          },\n          refetchQueries:[{query:getPermintaanBarangsQuery}],\n        });\n      } else {\n        this.props.hapusManyListRequestMutation({\n          variables:{\n            id: request_id,        \n          },\n        });\n        this.state.requestItems.map(item => {\n          console.log(item.harga);\n          return(\n            this.props.addListRequestMutation({\n              variables:{\n                nama_barang: item.nama,\n                jumlah_barang: parseInt(item.jumlah),\n                satuan: item.satuan,\n                jenis: item.jenis,\n                request_id: request_id,\n                harga: parseInt(item.harga),\n                status: 'Active',\n              },\n              refetchQueries:[{query:getPermintaanBarangsQuery}, {query:getListRequestsQuery}],\n            })\n          );\n        });\n      }\n      Swal.fire({\n        position: 'center',\n        icon: 'success',\n        title: 'Permintaan Barang Berhasil Diubah',\n        showConfirmButton: true,\n      })\n  }\n  \n  render() {\n     if(this.state.loggedIn === false){\n      return <Redirect to=\"/login\" />\n    }\n    return (\n      <div className=\"animated fadeIn\">\n        <Row>\n          <Col>\n            <Card>\n              <CardHeader>\n                Form Edit Permintaan Barang\n                <Link to=\"/permintaanBarang/permintaanBarang\" className={'float-right mb-0'}>\n                  <Button color=\"danger\">\n                      Batal\n                  </Button>\n                </Link>\n              </CardHeader>\n              <CardBody>\n              \n               {this.displayRequestDetail()}\n               \n               \n              </CardBody>\n              <Link to='/permintaanBarang/permintaanBarang' className={'text-center mb-3'}>\n                <Button onClick={(e) => {this.onUpdateSubmit(e)}} color=\"primary\" >Simpan</Button>\n              </Link>\n            </Card>\n          </Col>\n        </Row>\n        <Modal isOpen={this.state.modalIsOpen}>\n          <ModalHeader>Form Tambah Barang</ModalHeader>\n          <ModalBody>\n            <Form onSubmit={(e) => {this.addItem(e)}}>\n              <FormGroup>\n                <Label htmlFor=\"name\">Nama Barang</Label>\n                <Input type=\"select\" name=\"nama\" onChange={(e) =>this.setState({nama:e.target.value})} id=\"nama\" required>\n                  <option>Nama Barang</option>\n                  {this.displayBarang()}\n                </Input>\n              </FormGroup>\n              <FormGroup>\n                <Label htmlFor=\"name\">Jumlah Barang</Label>\n                <Input type=\"number\" id=\"jumlah\" onChange={(e) =>this.setState({jumlah:e.target.value})} placeholder=\"Jumlah Barang\" required />\n              </FormGroup>\n              <Button type=\"submit\" color=\"primary\">Tambah</Button>\n              <Button color=\"danger\" onClick={this.toggleModal.bind(this)}>Batal</Button>\n            </Form>\n          </ModalBody>  \n        </Modal>\n        <Modal isOpen={this.state.modalEdit}>\n          <ModalHeader>Edit Jumlah Barang</ModalHeader>\n          <ModalBody>\n            <Form onSubmit={(e) => {this.onEdit(e)}}>\n              <FormGroup>\n                <Label htmlFor=\"name\">Jumlah Barang</Label>\n                <Input type=\"number\" id=\"jumlah\" onChange={(e) =>this.setState({jumlah:e.target.value})} placeholder=\"Jumlah Barang\" required />\n              </FormGroup>\n              <Button type=\"submit\" color=\"primary\">Tambah</Button>\n              <Button color=\"danger\" onClick={this.toggleModalEdit.bind(this)}>Batal</Button>\n            </Form>\n          </ModalBody>  \n        </Modal>\n        <Modal isOpen={this.state.modalEditIsOpen}>\n          <ModalHeader>Form Edit Item</ModalHeader>\n          <ModalBody>\n            <Form onSubmit={(e) => {this.onUpdateItem(e)}}>\n              {this.displayEditItem()}\n              <Button type=\"submit\" color=\"primary\">Simpan</Button>\n              <Button color=\"danger\" onClick={this.toggleModalEdit.bind(this)}>Batal</Button>\n            </Form>\n          </ModalBody> \n          </Modal>\n      </div>\n    );\n  }\n}\n\nexport default compose( \n  graphql(getPermintaanBarangQuery, {\n    options:(props) => {\n      return{\n        variables:{\n          id: props.match.params.id\n        }\n      }\n    }\n  }),\n  graphql(getPermintaanBarangsQuery, {name:\"getPermintaanBarangsQuery\"}),\n  graphql(getBarangsQuery, {name:\"getBarangsQuery\"}),\n  graphql(getListRequestsQuery, {name:\"getListRequestsQuery\"}),\n  graphql(addListRequestMutation, {name:\"addListRequestMutation\"}),\n  graphql(hapusManyListRequestMutation, {name:\"hapusManyListRequestMutation\"}),\n  \n)(EditPermintaanBarang);\n"],"sourceRoot":""}