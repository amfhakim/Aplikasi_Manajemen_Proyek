(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[66],{346:function(e,a,t){"use strict";t.r(a);var n=t(23),l=t(24),r=t(26),i=t(25),c=t(2),s=t.n(c),u=t(27),o=t(4),m=t(377),d=t(67),b=t(69),g=t(64),p=t(107),h=t(108),E=t(140),f=t(303),v=t(141),k=t(304),y=t(305),j=t(306),B=t(307),O=function(e){Object(r.a)(t,e);var a=Object(i.a)(t);function t(e){var l;Object(n.a)(this,t),l=a.call(this,e);var r=!0;return null==localStorage.getItem("username")&&(r=!1),l.state={akun_id:localStorage.getItem("user_id"),kode:"",nama:"",jumlah:"",satuan:"",div_id:"",request_id:"",addRequest:!1,loggedIn:r},l}return Object(l.a)(t,[{key:"onDelete",value:function(e){this.props.hapusPermintaanBarangMutation({variables:{id:e},refetchQueries:[{query:b.D}]}),this.props.hapusManyListRequestMutation({variables:{id:e},refetchQueries:[{query:b.D}]})}},{key:"displayRequest",value:function(){var e=this.props.getPermintaanBarangsQuery,a=0;return e.loading?s.a.createElement("div",null,"Loading Permintaan Barang..."):e.permintaanBarangs.map((function(e){return a++,s.a.createElement("tr",{key:e.id},s.a.createElement("td",null,a),s.a.createElement("td",null,e.kode),s.a.createElement("td",null,e.akun.karyawan.divisi.nama),s.a.createElement("td",null,e.tanggal),s.a.createElement("td",null,e.status),s.a.createElement("td",null,s.a.createElement(u.Link,{to:"/permintaanBarang/detailPermintaanBarang/".concat(e.id)},s.a.createElement(g.a,{color:"primary",size:"sm"},s.a.createElement("i",{className:"fa fa-file"})))))}))}},{key:"getKodeBaru",value:function(){var e="",a=1;return this.props.getPermintaanBarangsQuery.permintaanBarangs.map((function(a){""!==a.kode&&(e=a.kode)})),""!==e&&(a=parseInt(e.substring(1,4))+1),e=a<10?"R00"+a:a>=10&&a<100?"R0"+a:"R"+a}},{key:"addRequestHandler",value:function(){this.props.addPermintaanBarangMutation({variables:{tanggal:(new Date).toLocaleDateString(),status:"Belum Disetujui",akun_id:this.state.akun_id,kode:this.getKodeBaru(),tanggal_setuju:"",disetujui_id:"5f7d7b275e9e27240c35abcf"},refetchQueries:[{query:b.D}]}),this.props.history.push("/permintaanBarang/buatPermintaanBarang")}},{key:"render",value:function(){return!1===this.state.loggedIn?s.a.createElement(o.c,{to:"/login"}):s.a.createElement("div",{className:"animated fadeIn"},s.a.createElement(p.a,null,s.a.createElement(h.a,null,s.a.createElement(E.a,null,s.a.createElement(f.a,null,s.a.createElement(p.a,null,s.a.createElement(h.a,null,s.a.createElement("h5",null,"Daftar Permintaan Barang")),s.a.createElement(h.a,null,s.a.createElement(g.a,{color:"primary",onClick:this.addRequestHandler.bind(this),className:"float-right mb-0"},s.a.createElement("i",{className:"fa fa-plus mr-2"}),"Buat Permintaan Barang")))),s.a.createElement(v.a,null,s.a.createElement(k.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},s.a.createElement("thead",{align:"center"},s.a.createElement("tr",null,s.a.createElement("th",null,"No"),s.a.createElement("th",null,"Kode"),s.a.createElement("th",null,"Divisi"),s.a.createElement("th",null,"Tanggal"),s.a.createElement("th",null,"Status"),s.a.createElement("th",null,"Aksi"))),s.a.createElement("tbody",{align:"center"},this.displayRequest())),s.a.createElement("nav",null,s.a.createElement(y.a,null,s.a.createElement(j.a,null,s.a.createElement(B.a,{previous:!0,tag:"button"},"Prev")),s.a.createElement(j.a,{active:!0},s.a.createElement(B.a,{tag:"button"},"1")),s.a.createElement(j.a,null,s.a.createElement(B.a,{tag:"button"},"2")),s.a.createElement(j.a,null,s.a.createElement(B.a,{tag:"button"},"3")),s.a.createElement(j.a,null,s.a.createElement(B.a,{tag:"button"},"4")),s.a.createElement(j.a,null,s.a.createElement(B.a,{next:!0,tag:"button"},"Next")))))))))}}]),t}(c.Component);a.default=d(Object(m.a)(b.D,{name:"getPermintaanBarangsQuery"}),Object(m.a)(b.w,{name:"getListRequestsQuery"}),Object(m.a)(b.j,{name:"addPermintaanBarangMutation"}),Object(m.a)(b.Q,{name:"hapusPermintaanBarangMutation"}),Object(m.a)(b.M,{name:"hapusManyListRequestMutation"}))(O)},64:function(e,a,t){"use strict";var n=t(5),l=t(13),r=t(61),i=t(11),c=t(2),s=t.n(c),u=t(14),o=t.n(u),m=t(59),d=t.n(m),b=t(60),g={active:o.a.bool,"aria-label":o.a.string,block:o.a.bool,color:o.a.string,disabled:o.a.bool,outline:o.a.bool,tag:b.q,innerRef:o.a.oneOfType([o.a.object,o.a.func,o.a.string]),onClick:o.a.func,size:o.a.string,children:o.a.node,className:o.a.string,cssModule:o.a.object,close:o.a.bool},p=function(e){function a(a){var t;return(t=e.call(this,a)||this).onClick=t.onClick.bind(Object(r.a)(t)),t}Object(i.a)(a,e);var t=a.prototype;return t.onClick=function(e){if(!this.props.disabled)return this.props.onClick?this.props.onClick(e):void 0;e.preventDefault()},t.render=function(){var e=this.props,a=e.active,t=e["aria-label"],r=e.block,i=e.className,c=e.close,u=e.cssModule,o=e.color,m=e.outline,g=e.size,p=e.tag,h=e.innerRef,E=Object(l.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);c&&"undefined"===typeof E.children&&(E.children=s.a.createElement("span",{"aria-hidden":!0},"\xd7"));var f="btn"+(m?"-outline":"")+"-"+o,v=Object(b.m)(d()(i,{close:c},c||"btn",c||f,!!g&&"btn-"+g,!!r&&"btn-block",{active:a,disabled:this.props.disabled}),u);E.href&&"button"===p&&(p="a");var k=c?"Close":null;return s.a.createElement(p,Object(n.a)({type:"button"===p&&E.onClick?"button":void 0},E,{className:v,ref:h,onClick:this.onClick,"aria-label":t||k}))},a}(s.a.Component);p.propTypes=g,p.defaultProps={color:"secondary",tag:"button"},a.a=p}}]);
//# sourceMappingURL=66.6b56d9cb.chunk.js.map