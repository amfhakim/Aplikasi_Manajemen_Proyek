(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[37],{107:function(a,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return o}));var e=n(72),r=n(29);function i(){var a=Object(e.a)(["\n\tmutation($id:ID!){\n\t\thapusPekerjaan(id: $id){\n\t\t\tnama_pekerjaan\n\t\t\ttanggal_mulai\n\t\t\ttanggal_selesai\n\t\t\tid\n\t\t}\n\t}\n"]);return i=function(){return a},a}function l(){var a=Object(e.a)(["\nmutation($nama_pekerjaan:String!, \n\t$tanggal_mulai:String!, $tanggal_selesai:String!, $pj_id:String!, $proyek_id:String!){\n\taddPekerjaan(nama_pekerjaan: $nama_pekerjaan, tanggal_mulai:$tanggal_mulai, \n\t\ttanggal_selesai:$tanggal_selesai, pj_id:$pj_id, proyek_id:$proyek_id){\n\t\tnama_pekerjaan\n\t\ttanggal_mulai\n\t\ttanggal_selesai\n\t\tid\n\t}\n}\n"]);return l=function(){return a},a}function u(){var a=Object(e.a)(["\n\tquery($id: ID){\n\t\tpekerjaan(id: $id) {\n\t\t\tnama_pekerjaan\n\t\t\ttanggal_mulai\n\t\t\ttanggal_selesai\n\t\t\tpj_id{\n\t\t\t\tnama\n\t\t\t\ttanggal_lahir\n\t\t\t\tjenis_kelamin\n\t\t\t\tagama\n\t\t\t\ttempat_lahir\n\t\t\t\talamat\n\t\t\t\tno_kontak\n\t\t\t\temail\n\t\t\t\tjabatan\n\t\t\t\tgaji\n\t\t\t\tdivisi{\n\t\t\t\t\tnama\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tid\n\t\t\t}\n\t\t\tproyek{\n\t\t\t\tid\n\t\t\t}\n\t\t\tid\n\t\t}\n\t}\n"]);return u=function(){return a},a}function c(){var a=Object(e.a)(["\n{\n\tpekerjaans {\n\t\tnama_pekerjaan\n\t\ttanggal_mulai\n\t\ttanggal_selesai\n\t\tpj_id{\n\t\t\tnama\n\t\t\ttanggal_lahir\n\t\t\tjenis_kelamin\n\t\t\tagama\n\t\t\ttempat_lahir\n\t\t\talamat\n\t\t\tno_kontak\n\t\t\temail\n\t\t\tjabatan\n\t\t\tgaji\n\t\t\tdivisi{\n\t\t\t\tnama\n\t\t\t\tid\n\t\t\t}\n\t\t\tid\n\t\t}\n\t\tproyek{\n\t\t\tid\n\t\t}\n\t\tid\n\t}\n}\n"]);return c=function(){return a},a}var m=Object(r.b)(c()),s=Object(r.b)(u()),g=Object(r.b)(l()),o=Object(r.b)(i())},347:function(a,t,n){"use strict";n.r(t);var e=n(23),r=n(24),i=n(26),l=n(25),u=n(2),c=n.n(u),m=n(348),s=n(76),g=n(82),o=n.n(g),d=n(72),b=n(29);function j(){var a=Object(d.a)(["\n\tmutation($id:ID!){\n\t\thapusBarang(id: $id){\n\t\t\tid\n\t\t}\n\t}\n"]);return j=function(){return a},a}function p(){var a=Object(d.a)(["\n\tmutation($nama_barang:String!, $jenis_barang:String!, $satuan:String!, $harga:Int!){\n\t\taddBarang(nama_barang: $nama_barang, jenis_barang: $jenis_barang, satuan:$satuan, harga:$harga){\n\t\t\tnama_barang\n\t\t\tjenis_barang\n\t\t\tsatuan\n\t\t\tharga\n\t\t\tid\n\t\t}\n\t}\n"]);return p=function(){return a},a}function h(){var a=Object(d.a)(["\n\tquery($id: ID){\n\t\tbarang(id: $id) {\n\t\t\tnama_barang\n\t\t\tjenis_barang\n\t\t\tsatuan\n\t\t\tharga\n\t\t\tid\n\t\t}\n\t}\n"]);return h=function(){return a},a}function _(){var a=Object(d.a)(["\n{\n\tbarangs {\n\t\tnama_barang\n\t\tjenis_barang\n\t\tsatuan\n\t\tharga\n\t\tid\n\t}\n}\n"]);return _=function(){return a},a}var f=Object(b.b)(_()),k=Object(b.b)(h()),E=Object(b.b)(p()),v=Object(b.b)(j());function B(){var a=Object(d.a)(["\n\tmutation($id:ID!){\n\t\thapusBarangPekerjaan(id: $id){\n\t\t\tid\n\t\t}\n\t}\n"]);return B=function(){return a},a}function O(){var a=Object(d.a)(["\n\tmutation($barang_id:String!, $jumlah:Int!, $pekerjaan_id:String!, $status:Boolean!){\n\t\taddBarangPekerjaan(barang_id: $barang_id, jumlah: $jumlah, pekerjaan_id:$pekerjaan_id, status:$status){\n\t\t\tjumlah\n\t\t\tid\n\t\t}\n\t}\n"]);return O=function(){return a},a}function y(){var a=Object(d.a)(["\n\tquery($id: ID){\n\t\tbarangPekerjaan(id: $id) {\n            jumlah\n            barang_id{\n                nama_barang\n                jenis_barang\n                satuan\n                harga\n                id\n            }\n            pekerjaan_id{\n                nama_pekerjaan\n                id\n            }\n            status\n            id\n\t\t}\n\t}\n"]);return y=function(){return a},a}function $(){var a=Object(d.a)(["\n{\n\tbarangPekerjaans {\n        jumlah\n        barang_id{\n            nama_barang\n\t\t\tjenis_barang\n\t\t\tsatuan\n\t\t\tharga\n\t\t\tid\n        }\n        pekerjaan_id{\n            nama_pekerjaan\n            id\n        }\n        status\n\t\tid\n\t}\n}\n"]);return $=function(){return a},a}var P=Object(b.b)($()),S=Object(b.b)(y()),D=Object(b.b)(O()),C=Object(b.b)(B()),I=n(66),N=n(98),w=n(132),Q=n(298),T=n(133),q=n(299),z=n(300),J=n(301),M=n(302),Y=n(351),F=n(303),x=n(304),H=n(139),A=n(305),L=n(306),U=n(97),G=function(a){Object(i.a)(n,a);var t=Object(l.a)(n);function n(a){var r;return Object(e.a)(this,n),(r=t.call(this,a)).state={barang_id:"",jumlah_barang:0,modalIsOpen:!1,success:!1,pekerjaan_id:""},r}return Object(r.a)(n,[{key:"toggleModal",value:function(){this.setState({modalIsOpen:!this.state.modalIsOpen})}},{key:"submitForm",value:function(a){a.preventDefault(),this.toggleModal(),this.props.addBarangPekerjaan({variables:{barang_id:this.state.barang_id,jumlah:parseInt(this.state.jumlah_barang),pekerjaan_id:this.props.pekerjaan_id,status:!1},refetchQueries:[{query:P}]}),o.a.fire({position:"center",icon:"success",title:"Data Barang Berhasil Disimpan",showConfirmButton:!0})}},{key:"onDelete",value:function(a){var t=this;o.a.fire({title:"Apakah anda Yakin?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Saya Yakin!"}).then((function(n){n.isConfirmed&&(t.props.hapusBarang({variables:{id:a},refetchQueries:[{query:f}]}),o.a.fire("Dihapus!","Data Barang Telah Dihapus","success"))}))}},{key:"displayBarang",value:function(){var a=this.props.getBarangsQuery;return a.loading?c.a.createElement("div",null,"Loading Daftar Barang..."):a.barangs.map((function(a){if("Perkakas"!==a.jenis_barang)return c.a.createElement("option",{value:a.id},a.nama_barang)}))}},{key:"displayBarangPekerjaan",value:function(){var a=this.props.getBarangPekerjaansQuery,t=0;return a.loading?c.a.createElement("div",null,"Loading Daftar Barang..."):a.barangPekerjaans.map((function(a){return t++,c.a.createElement("tr",{key:a.id},c.a.createElement("td",null,t),c.a.createElement("td",null,a.barang_id.nama_barang),c.a.createElement("td",null,a.jumlah),c.a.createElement("td",null,String(a.status)),c.a.createElement("td",null,c.a.createElement(I.a,{color:"warning",size:"sm"},c.a.createElement("a",null," Edit "))),c.a.createElement("td",null,c.a.createElement(I.a,{color:"danger",size:"sm"},c.a.createElement("a",null," Hapus "))))}))}},{key:"submitBarang",value:function(){o.a.fire({title:"Apakah anda Yakin? anda tidak akan dapat mengubah lagi setelah ini",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Saya Yakin!"}).then((function(a){o.a.fire("Submit Berhasil!","Data Barang Telah Disubmit","success")}))}},{key:"render",value:function(){var a=this;return c.a.createElement(N.a,null,console.log(this.props.pekerjaan_id),c.a.createElement(w.a,null,c.a.createElement(Q.a,null,c.a.createElement("i",{className:"fa fa-align-justify"})," Daftar Barang",c.a.createElement(I.a,{size:"sm",color:"primary",className:"float-right mb-0",onClick:this.toggleModal.bind(this)},c.a.createElement("i",{className:"fa fa-plus"})," Tambah Barang")),c.a.createElement(T.a,null,c.a.createElement(q.a,{hover:!0,bordered:!0,striped:!0,responsive:!0,size:"sm"},c.a.createElement("thead",{align:"center"},c.a.createElement("tr",null,c.a.createElement("th",null,"No"),c.a.createElement("th",null,"Nama Barang"),c.a.createElement("th",null,"Jumlah"),c.a.createElement("th",null,"Status"),c.a.createElement("th",null,"Edit"),c.a.createElement("th",null,"Hapus"))),c.a.createElement("tbody",{align:"center"},this.displayBarangPekerjaan())),c.a.createElement("nav",null,c.a.createElement(z.a,null,c.a.createElement(J.a,null,c.a.createElement(M.a,{previous:!0,tag:"button"},"Prev")),c.a.createElement(J.a,{active:!0},c.a.createElement(M.a,{tag:"button"},"1")),c.a.createElement(J.a,null,c.a.createElement(M.a,{tag:"button"},"2")),c.a.createElement(J.a,null,c.a.createElement(M.a,{tag:"button"},"3")),c.a.createElement(J.a,null,c.a.createElement(M.a,{tag:"button"},"4")),c.a.createElement(J.a,null,c.a.createElement(M.a,{next:!0,tag:"button"},"Next")))),c.a.createElement(I.a,{size:"sm",color:"primary",className:"float-right mb-0"},"Submit"))),c.a.createElement(Y.a,{isOpen:this.state.modalIsOpen},c.a.createElement(F.a,null,"Form Tambah Data Barang"),c.a.createElement(x.a,null,c.a.createElement(H.a,{onSubmit:function(t){a.submitForm(t)}},c.a.createElement(A.a,null,c.a.createElement(L.a,{htmlFor:"name"},"Nama Barang"),c.a.createElement(U.a,{type:"select",name:"barang_id",id:"barang",onChange:function(t){return a.setState({barang_id:t.target.value})},required:!0},c.a.createElement("option",{value:""},"Nama Barang"),this.displayBarang())),c.a.createElement(A.a,null,c.a.createElement(L.a,{htmlFor:"name"},"Jumlah Barang"),c.a.createElement(U.a,{type:"number",id:"jenis",placeholder:"Masukkan Jumlah Barang",onChange:function(t){return a.setState({jumlah_barang:t.target.value})},required:!0})),c.a.createElement(I.a,{type:"submit",color:"primary"},"Submit"),c.a.createElement(I.a,{color:"danger",onClick:this.toggleModal.bind(this)},"Batal")))))}}]),n}(u.Component),K=s(Object(m.a)(f,{name:"getBarangsQuery"}),Object(m.a)(P,{name:"getBarangPekerjaansQuery"}),Object(m.a)(S,{name:"getBarangPekerjaanQuery"}),Object(m.a)(D,{name:"addBarangPekerjaan"}),Object(m.a)(C,{name:"hapusBarangPekerjaan"}))(G),R=n(107),V=n(95),W=function(a){Object(i.a)(n,a);var t=Object(l.a)(n);function n(){return Object(e.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"displayPekerjaan",value:function(){var a=this.props.data.pekerjaan;if(a)return c.a.createElement(N.a,null,c.a.createElement(L.a,null,"Nama Pekerjaan"),c.a.createElement(U.a,{placeholder:a.nama_pekerjaan,disabled:!0}),c.a.createElement(L.a,null,"Tanggal Mulai"),c.a.createElement(U.a,{placeholder:a.tanggal_mulai,disabled:!0}),c.a.createElement(L.a,null,"Tanggal Selesai"),c.a.createElement(U.a,{placeholder:a.tanggal_selesai,disabled:!0}),c.a.createElement(L.a,null,"Penanggung Jawab"),c.a.createElement(U.a,{placeholder:a.pj_id.nama,disabled:!0}))}},{key:"render",value:function(){return c.a.createElement(N.a,null,c.a.createElement(w.a,null,c.a.createElement(Q.a,null,c.a.createElement("i",{className:"fa fa-align-justify"})," Detail Pekerjaan",c.a.createElement(I.a,{size:"sm",color:"danger",className:"float-right mb-0"},"Hapus"),c.a.createElement(I.a,{size:"sm",color:"warning",className:"float-right mb-0"},"Ubah")),c.a.createElement(T.a,null,c.a.createElement(N.a,null,c.a.createElement(V.a,null,this.displayPekerjaan())))),c.a.createElement(K,{pekerjaan_id:this.props.match.params.id}))}}]),n}(u.Component);t.default=s(Object(m.a)(R.b,{options:function(a){return{variables:{id:a.match.params.id}}}}),Object(m.a)(R.d,{name:"hapusProyek"}),Object(m.a)(f,{name:"getBarangsQuery"}),Object(m.a)(k,{name:"getBarangQuery"}),Object(m.a)(E,{name:"addBarang"}),Object(m.a)(v,{name:"hapusBarang"}))(W)}}]);
//# sourceMappingURL=37.65d62fa3.chunk.js.map